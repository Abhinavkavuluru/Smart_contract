<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Farmer-Buyer Smart Contract</title>
    <script src="ethers.js"></script>
    <script defer src="contract.js"></script>
</head>
<body>

    <h2>ğŸŒ¾ Farmer Interface (Deploy Smart Contract)</h2>
    <form id="contractForm">
        <label>Farmer Name:</label>
        <input type="text" id="farmerName" required><br>

        <label>Product Type:</label>
        <input type="text" id="productType" required><br>

        <label>Quantity (kg):</label>
        <input type="number" id="quantity" required><br>

        <label>Price per Unit (ETH):</label>
        <input type="number" id="price" step="0.01" required><br>

        <label>Buyer Wallet Address:</label>
        <input type="text" id="buyerWallet" required><br>

        <button type="button" onclick="deployContract()">ğŸš€ Deploy Contract</button>
    </form>

    <h2>ğŸ›’ Buyer Interface</h2>
    <label>Enter Contract Address:</label>
    <input type="text" id="contractAddress" required>
    <button onclick="fetchContractDetails()">ğŸ” Fetch Details</button>

    <div id="contractDetails"></div>

    <button id="makePaymentBtn" onclick="makePayment()" disabled>ğŸ’° Make Payment</button>
    <button id="confirmDeliveryBtn" onclick="confirmDelivery()" disabled>âœ… Confirm Delivery</button>
    

    <script>
        window.onload = function() {
            // Auto-fill contract address from contract.js
            const contractAddress = "0x5FbDB2315678afecb367f032d93F642f64180aa3";
            document.getElementById("contractAddress").value = contractAddress;
        };

        function enableButtons() {
            document.getElementById("makePaymentBtn").disabled = false;
            document.getElementById("confirmDeliveryBtn").disabled = false;
        }
    </script>

</body>
</html>
